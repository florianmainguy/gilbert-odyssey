(this["webpackJsonpgilbert-odyssey"]=this["webpackJsonpgilbert-odyssey"]||[]).push([[0],{171:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABExJREFUeNq0V01oXFUU/u59b2byksnfjLVJQ0sFWxVqWlpaUMQfLKVWULqx0IU/C9uFO1euRNFNKC0KdpEuhC5KKSIIhYIaXbQLi9KFWLUYUmnpMGkSMz+ZN/Py3rz3PHfmvOR2mmmSmcmFj3vfmzv3++455557nkjhKtbQ+oHgECAP0jgJhE9T71J/k1AI4U3kcGiC3oUaoPVNm1hFwB7Cp4TXCcajlwpzIRYveLg2VsJnc/TCJwSMpmKaCaAd4wvCu1h3CxYC5MbyOHqWHjxClcX4KwlZQYA3CsQu02Ab2mgh7IkSPj7h4bc8PS5qQgJdRIMAbweRX6dBCh1oJOLXIk6+7eOuElFhIZE1aiLk8uTSAJFf0cnfOTGEgUGzZQECPQd6cWqMho8R+ggWIcbxJB4QIJA8T92T+gIvHRzE1PxzODO+o2UhEsNvJvH5cRahYquLYDK3YAE+HTG80WwRZYl2hMRw4AMDW7ezdXs1EULO40UyhfxoLQu1KkSgq9/C+2/RcBOBXI0eQly5Qqbw0xM05ZX17KgVISaefZm6zY3xQC4wDrcaZOsRIpEeNrFrJw3THAs1K6gYeKHd47ZWITHs38VxMMgCukiAeAodaqsJkXh8mMn763cKEpIfOtqaCRGwuvkU9LIFLBIQBtiA9vuNEmEB+VxVy4yewcHXw32c5AV5LR91hPj8uSxheoXUXKzy8UtwLoibIfxJAXP/RhJHzce/NiegGMMkAcVfBDYd30hivqZDD9fnOQUb3EvTxc8/dOGYv3rB0SpxtPupfIA596EEVcbZ2QRe+16g78hGEEdtEVfuaRVSdCX7yh+Bi2tfJXDk8PLl1DnimvExW3HwXZZJq/V6sl4t1QTYGLtpYs83BkaOdZI48n0ZX94i7iqTqqLEYbiCz2O/xOaRPox/LZEajf66e1+yJqCd5uDCVBnjt2moToAKwgzhDkG9yxgcfAaVT4aPyT/jeJ7u54TKVLifddsipwDP2Dg9yTtXO1GlmaqY7xNm1bNkv6gJFQ837hZw8kMf9/5uLysEoYOLt0v45Bb7vMICCoQc98oijrGUpusgSyyQ8st/GNjSbWAbVTFyXWnSR8Yu49RfDr7NaORFwn+EGd79DAuxl4g5NfZywaBurRESsNPCe6+a2PuMxGDyUcRV/JN38WPWwaWsblXCApNPs/8zPFYCSrWynMoyyanR4mpFiRgibOE+bWJ0ewz7tkoMJAXSNC+UPu7YIXKei6vzdNQWtTPuambPsb+zTDzNwah+qwjNBZGIbr6i01zDDXGf0q7ReGN5zeT6UYt8Hpl+RjN9ked4pva5FC3g8KKhljii3QywCItFmA0CInKbTZ/j3c6xkAK/j76UQvOB23LZfGGDOcvajpJshQRbQWr/jfxu8y4LfPTyTGxr5LVPNLFiFV03rckkFrslqcFqEADN/A4Ltll0iZ8r2sfq0vfh/wIMAFzwy1ISFJMqAAAAAElFTkSuQmCC"},172:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABJdJREFUeNq8V29MW1UUP+/RPxRaCgNrASlTFnQEmX6Y++LIzBI1flAyg2k08cMSY6L7viZsYTEmxSx8WMRI9mHRT/JNhagbmw67EZqxyFjMMmlhbjA3xoB2pfQPpc9z3juPXV63ORntSX697953e8/vnnvOuedJAQDYrSjwCClLTU+/hfBGzpwpv97ZeRNnv4DjaWz/9Bw65K5sa0uYm5q+C4fDQy0tLVF8py6oKOsXliQpd/WANvFBKMV3LyF+RGQQyjWfTzHKDb9foXe/AywMAnx5GOAZv99fgcuaEUWkl6A8ZJPygwaTU1P7/u7o+AUfxxBv80KPFNRSUQxwYC/AlbZksmdiYoL+h0Ngof9L2val/yQQHR4+rGSzfUUOx27YgOCCjuJU6v06q/Xb0Pj4JzhUwiTMrE96KIHY2NhBW0PDEdu2bWZ4Qin2eEo9NTWfX7548WPsOtgaJuFY1hOIh0LvmsvKPrO43TJskliqqiwNLldHf3//O+TMCJvBN1RGqvzR2Pghm0qVOp8vJzqmu7rgnMGTH2Oe/TJAPbZVrPgeRwkhq+52SJJeZ2fLi7wC8GkdwFZ83GI4DklupR8AH+RRUJvzI4D38PEpRDmiVI8O+VeAZ9FYr0Ge5UWAPdg8zUex5g8yHsqbUACpBKhuBmjUHsGpW4F84FXdkUQUOZ2qI4lYjUY3PG+r3w87AZrZDyqYQLGM5n8eCiQutAIrJwvYEVaZOwURm5YVHQyygE3GYMwWisCKlgdsunLVB1B7pFAEMANlOPys+kVlWgUIYebaSdnrf2Y4VZpPnsyZFwsGc+aRXMOMzwnIzDDJyGqkELtHSytBrBn4/iniVpZ/A8A6AlbzTWASj/ouVlE51/dXAHNohVP5JvAzwIxmCBWrOsgM2XMAPRuNhujQUM5YxDA2B5D4AeAWKyVHTGtBARmVwEhra7jp/Plb+cqEnsHBtN3pVFhpiqo+RpoIZAKBQGx4ZqYrPjWV2mzTz4XDK90nTkxGo9EEK48zlqkv85mk27zeU8Ojo8dTs7Ob5pBxXOuL3t5QX1/fbewSgSWKUi5KiERS5nMh0yTe8Hq/+en06eNLk5PpJ1GMtlZo551Hj/7V3d19Q1BO3wyL3KoEJI5HC6dHuqmqsVOPFcoHeIHvNQll2+PITVz4a0xu+K1wlx0uwQrvIP6hfAZaRMySv8pcm2X4fIjlIm5/ttfl+n66p+fscxcuxMQr1SjiVV4dDC5fxS+ncadzgT09zsrntWBQSRCxCPtAWqIvo1bNCma+IMq4anEjampra+vb29tb9uzYsX350iXz6LFjKawobMhavo4KXt6/v8S+axecHRmZHxgYmEdJsXLd7IusnMLwNmOB3yWk+x82ayRK+Iqu5BrOze0W4Rq1GMtrduaMEGpLwu7vCFhkJ6Q5K6b7frO2QJIXVYTEoe+mnEnYmITJQGBFCLUYK1tgs88zoRjPoXUV03rnVRWmBUJ6f1nYkZ2tYBU+txQxmpjAPZ4fYcR4XFeeNRIQSYhW0ReNsXI7W0AkAIL5k0w4zqSXuJ/Q06+unP70rwADAK90NfewkAr1AAAAAElFTkSuQmCC"},173:function(e,t){e.exports="data:image/png;base64,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"},184:function(e,t,a){e.exports=a.p+"static/media/default.cd6d11ef.png"},200:function(e,t,a){e.exports=a(362)},361:function(e,t,a){},362:function(e,t,a){"use strict";a.r(t);var n=a(169),r=a(12),c=a(13),l=a(15),i=a(14),s=a(9),o=a(16),u=a(0),m=a.n(u),d=a(28),h=a.n(d),p=a(170),b=a.n(p).a.create(),f={getClassiquesAndCyclists:function(){return b.get("/api/all")}},A=a(42),g=a.n(A),E=a(171),y=a.n(E),v=a(172),O=a.n(v),j=a(173),N=a.n(j);g.a.accessToken="pk.eyJ1IjoiY2hpZW5jaGllbjE2NjQiLCJhIjoiY2s0aDc0OHd2MTNpOTN0bzJyNjRzOWxpaiJ9.OAzfshgQGxK4VRYepd-ysw";var C=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).state={lng:-5.2394,lat:46.827,zoom:4.87},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"zoomOnRace",value:function(e){var t=e.geojsonData.features[2].geometry.coordinates,a=t.reduce((function(e,t){return e.extend(t)}),new g.a.LngLatBounds(t[0],t[0]));window.matchMedia("(max-width: 768px)").matches?this.map.fitBounds(a,{padding:{top:120,bottom:375,left:15,right:15}}):this.map.fitBounds(a,{padding:{top:70,bottom:250,left:15,right:400}})}},{key:"componentDidMount",value:function(){var e=this;this.map=new g.a.Map({container:this.mapContainer,style:"mapbox://styles/chienchien1664/ck4k1ugrb1lr01cnxcrkxcvjr?optimize=true",center:[this.state.lng,this.state.lat],zoom:this.state.zoom}),this.map.loadImage(y.a,(function(t,a){e.map.addImage("start",a)})),this.map.loadImage(O.a,(function(t,a){e.map.addImage("finish",a)})),this.map.loadImage(N.a,(function(t,a){e.map.addImage("climb",a)})),this.map.on("load",(function(){var t=!0,a=!1,n=void 0;try{for(var r,c=function(){var t=r.value;e.map.addSource(t.raceName,{type:"geojson",data:t.geojsonData,generateId:!0}),e.map.addLayer({id:t.raceName,type:"line",source:t.raceName,layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"hsl(16, 93%, 49%)","line-width":["case",["boolean",["feature-state","hover"],!1],4,3]}}),e.map.addLayer({id:"start "+t.raceName,type:"symbol",source:t.raceName,layout:{"icon-image":"start","icon-size":.5,"icon-allow-overlap":!0},filter:["==",["get","icon"],"start"]}),e.map.addLayer({id:"finish "+t.raceName,type:"symbol",source:t.raceName,layout:{"icon-image":"finish","icon-size":.5,"icon-allow-overlap":!0},filter:["==",["get","icon"],"finish"]}),e.map.addLayer({id:"climb "+t.raceName,type:"symbol",source:t.raceName,layout:{"icon-image":"climb","icon-size":.4},filter:["==",["get","icon"],"climb"],minzoom:5});var a=null;e.map.on("mousemove",t.raceName,(function(n){e.map.getCanvas().style.cursor="pointer",a&&e.map.setFeatureState({source:t.raceName,id:a},{hover:!1}),a=n.features[0].id,e.map.setFeatureState({source:t.raceName,id:a},{hover:!0})})),e.map.on("mouseleave",t.raceName,(function(){e.map.getCanvas().style.cursor="",a&&e.map.setFeatureState({source:t.raceName,id:a},{hover:!1}),a=null})),e.map.on("click",t.raceName,(function(){e.zoomOnRace(t),e.props.handlerRightUI("race",t.raceName),e.map.setFeatureState({source:t.raceName,id:a},{hover:!1})})),t.geojsonData.features.forEach((function(t){"start"===t.properties.icon&&new g.a.Popup({className:"start-finish"}).setLngLat(t.geometry.coordinates).setHTML(t.properties.name).addTo(e.map)})),t.geojsonData.features.forEach((function(t){"finish"===t.properties.icon&&new g.a.Popup({className:"start-finish"}).setLngLat(t.geometry.coordinates).setHTML(t.properties.name).addTo(e.map)}));var n=new g.a.Popup({closeOnClick:!1});e.map.on("mouseenter","climb "+t.raceName,(function(t){e.map.getCanvas().style.cursor="pointer",n.setLngLat(t.features[0].geometry.coordinates).setHTML(t.features[0].properties.name).addTo(e.map)})),e.map.on("mouseleave","climb "+t.raceName,(function(){e.map.getCanvas().style.cursor="",n.remove()}))},l=e.props.classiques[Symbol.iterator]();!(t=(r=l.next()).done);t=!0)c()}catch(i){a=!0,n=i}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}})),this.map.on("move",(function(){e.setState({lng:e.map.getCenter().lng.toFixed(4),lat:e.map.getCenter().lat.toFixed(4),zoom:e.map.getZoom().toFixed(2)})}))}},{key:"componentDidUpdate",value:function(){var e=this;if("race"===this.props.rightUI){var t=this.props.classiques.find((function(t){return t.raceName===e.props.focusOn}));this.zoomOnRace(t)}}},{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement("div",{ref:function(t){return e.mapContainer=t},className:"map-container"}))}}]),t}(m.a.Component),k=a(84),R=a.n(k),I=a(191),x=a(377),w=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).resultRenderer=function(e){var t=e.title;return m.a.createElement(I.a,{content:t})},a.handleResultSelect=function(e,t){var n=t.result;a.setState({value:""}),a.handleCyclist(n.title)},a.handleSearchChange=function(e,t){var n=t.value;a.setState({isLoading:!0,value:n}),setTimeout((function(){if(a.state.value.length<1)return a.setState(a.initialState);var e=new RegExp(R.a.escapeRegExp(a.state.value),"i");a.setState({isLoading:!1,results:R.a.filter(a.cyclistSearch,(function(t){return e.test(t.title)}))})}),300)},a.handleCyclist=a.handleCyclist.bind(Object(s.a)(a)),a.cyclistSearch=[],a.initialState=a.state,a.state={isLoading:!1,results:[],value:""},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"handleCyclist",value:function(e){this.props.handlerRightUI("cyclist",e)}},{key:"componentDidMount",value:function(){this.cyclistSearch=this.props.cyclists.map((function(e){return{title:e.cyclist}}))}},{key:"render",value:function(){return m.a.createElement(x.a,{minCharacters:"3",input:{iconPosition:"left",placeholder:"Search..."},loading:this.state.isLoading,onResultSelect:this.handleResultSelect,onSearchChange:R.a.debounce(this.handleSearchChange,500,{leading:!0}),results:this.state.results,value:this.state.value,resultRenderer:this.resultRenderer})}}]),t}(m.a.Component),S=function(e){function t(e){return Object(r.a)(this,t),Object(l.a)(this,Object(i.a)(t).call(this,e))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{className:"home-cyclist"},m.a.createElement("h6",null,"Find a Cyclist:"),m.a.createElement("div",{className:"home-search"},m.a.createElement(w,this.props)))}}]),t}(m.a.Component),T=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).handleRace=a.handleRace.bind(Object(s.a)(a)),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"handleRace",value:function(e){this.props.handlerRightUI("race",e)}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"home-race"},m.a.createElement("h6",null,"Pick a classic:"),m.a.createElement("ul",{className:"race-list"},m.a.createElement("a",{href:"#",className:"race-link",onClick:function(){return e.handleRace("Milano-Sanremo")}},m.a.createElement("li",{className:"flex-races"},m.a.createElement("h5",null,"Milano-Sanremo"))),m.a.createElement("a",{href:"#",className:"race-link",onClick:function(){return e.handleRace("Ronde van Vlaanderen")}},m.a.createElement("li",{className:"flex-races"},m.a.createElement("h5",null,"Ronde van Vlaanderen"))),m.a.createElement("a",{href:"#",className:"race-link",onClick:function(){return e.handleRace("Paris-Roubaix")}},m.a.createElement("li",{className:"flex-races"},m.a.createElement("h5",null,"Paris-Roubaix"))),m.a.createElement("a",{href:"#",className:"race-link",onClick:function(){return e.handleRace("Li\xe8ge-Bastogne-Li\xe8ge")}},m.a.createElement("li",{className:"flex-races"},m.a.createElement("h5",null,"Li\xe8ge-Bastogne-Li\xe8ge"))),m.a.createElement("a",{href:"#",className:"race-link",onClick:function(){return e.handleRace("Giro di Lombardia")}},m.a.createElement("li",{className:"flex-races"},m.a.createElement("h5",null,"Giro di Lombardia")))))}}]),t}(m.a.Component),q=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{className:"home-head"},m.a.createElement("h1",null,"THE MONUMENTS"))}}]),t}(m.a.Component),L=function(e){function t(e){return Object(r.a)(this,t),Object(l.a)(this,Object(i.a)(t).call(this,e))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{className:"main-grid home-grid"},m.a.createElement(q,null),m.a.createElement(T,this.props),m.a.createElement(S,this.props))}}]),t}(m.a.Component),U=a(59),B=a(184),P=a.n(B),V=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).handleRace=a.handleRace.bind(Object(s.a)(a)),a.renderTable=a.renderTable.bind(Object(s.a)(a)),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"handleRace",value:function(e){this.props.handlerRightUI("race",e)}},{key:"renderTable",value:function(){var e=this;return this.props.cyclist.palmares.map((function(t,a){var n=null;return t.race===e.props.clickedOn&&(n=t.race.toLowerCase().replace(/\s+/g,"-")),m.a.createElement("tr",{key:a},m.a.createElement("td",null,t.year),m.a.createElement("td",null,m.a.createElement("a",{href:"#",onClick:function(){return e.handleRace(t.race)},className:"stretched-link "+n},t.race)))}))}},{key:"render",value:function(){return this.props.cyclist?m.a.createElement("div",{className:"cyclist-wins"},m.a.createElement("h6",null,"Monuments Palmares"),m.a.createElement("div",{className:"border border-dark table-responsive"},m.a.createElement("table",{className:"table table-dark table-sm table-striped table-hover"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",{scope:"column"},"Year"),m.a.createElement("th",{scope:"column"},"Race"))),m.a.createElement("tbody",null,m.a.createElement(this.renderTable,null))))):null}}]),t}(m.a.Component),K=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).renderSummary=a.renderSummary.bind(Object(s.a)(a)),a.handleKey=a.handleKey.bind(Object(s.a)(a)),a.races=["Milano-Sanremo","Ronde van Vlaanderen","Paris-Roubaix","Li\xe8ge-Bastogne-Li\xe8ge","Giro di Lombardia"],a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"handleKey",value:function(e){this.props.handlerKeyClick(e)}},{key:"renderSummary",value:function(){var e=this;return this.races.map((function(t,a){var n=e.props.cyclist.palmares.reduce((function(e,a){return a.race===t?++e:e}),0);return m.a.createElement("li",{className:"flex-wins"},m.a.createElement("a",{onClick:function(){return e.handleKey(t)},className:"race-"+a,href:"#"},m.a.createElement("p",null,m.a.createElement("span",{className:"icon fontawesome-trophy"}),n)))}))}},{key:"render",value:function(){return this.props.cyclist?m.a.createElement("div",{className:"cyclist-summary border border-dark"},m.a.createElement("ul",{className:"key-wins"},m.a.createElement(this.renderSummary,null))):null}}]),t}(m.a.Component),Y=function(e){function t(e){return Object(r.a)(this,t),Object(l.a)(this,Object(i.a)(t).call(this,e))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.cyclist?m.a.createElement("div",{className:"cyclist-profile border border-dark"},m.a.createElement("div",{className:"cyclist-picture"},m.a.createElement("img",{alt:"Default picture",src:P.a})),m.a.createElement(U.a,{countryCode:this.props.cyclist.flag}),m.a.createElement("div",{className:"cyclist-search"},m.a.createElement(w,this.props))):null}}]),t}(m.a.Component),Z=function(e){function t(e){return Object(r.a)(this,t),Object(l.a)(this,Object(i.a)(t).call(this,e))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{className:"cyclist-head border border-dark"},m.a.createElement("h3",null,this.props.name))}}]),t}(m.a.Component),z=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).handlerKeyClick=a.handlerKeyClick.bind(Object(s.a)(a)),a.state={cyclist:null,clickedOn:null},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"handlerKeyClick",value:function(e){this.state.clickedOn===e?this.setState({clickedOn:null}):this.setState({clickedOn:e})}},{key:"componentDidMount",value:function(){var e=this;this.setState({cyclist:this.props.cyclists.find((function(t){return t.cyclist===e.props.focusOn}))})}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.focusOn!==e.focusOn&&this.setState({cyclist:this.props.cyclists.find((function(e){return e.cyclist===t.props.focusOn}))})}},{key:"render",value:function(){return m.a.createElement("div",{className:"main-grid cyclist-grid"},m.a.createElement(Z,{name:this.props.focusOn}),m.a.createElement(Y,Object.assign({},this.props,{cyclist:this.state.cyclist})),m.a.createElement(K,Object.assign({},this.props,{cyclist:this.state.cyclist,handlerKeyClick:this.handlerKeyClick})),m.a.createElement(V,Object.assign({},this.props,{cyclist:this.state.cyclist,clickedOn:this.state.clickedOn})))}}]),t}(m.a.Component),F=a(185),G=a(187),Q=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).renderChart=a.renderChart.bind(Object(s.a)(a)),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"renderChart",value:function(){var e=this;if(!this.props.classique)return null;var t={labels:this.props.chart.elevation.map((function(t,a){return Math.round(a*e.props.chart.distance/e.props.chart.elevation.length)})),datasets:[{label:"Elevation",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:.5,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:.5,pointHitRadius:10,data:this.props.chart.elevation}]};return m.a.createElement(F.a,{data:t,options:{legend:{display:!1},tooltips:{enabled:!1},maintainAspectRatio:!1,scales:{xAxes:[{display:!0,ticks:{}}],yAxes:[{display:!0,ticks:{beginAtZero:!0,suggestedMax:1200}}]},animation:{duration:0}}})}},{key:"render",value:function(){return m.a.createElement("div",{className:"race-chart border border-dark"},m.a.createElement("h6",null,"Elevation Profile (m/km)"),m.a.createElement("div",{className:"chart"},m.a.createElement(this.renderChart,null)))}}]),t}(m.a.Component),M=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).handleCyclist=a.handleCyclist.bind(Object(s.a)(a)),a.renderTable=a.renderTable.bind(Object(s.a)(a)),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"handleCyclist",value:function(e){this.props.handlerRightUI("cyclist",e)}},{key:"renderTable",value:function(){var e=this;return this.props.classique.history.slice().reverse().map((function(t,a){return m.a.createElement("tr",{key:a},m.a.createElement("td",null,t.year),m.a.createElement("td",null,m.a.createElement(U.a,{countryCode:t.flag})),m.a.createElement("td",null,m.a.createElement("a",{href:"#",onClick:function(){return e.handleCyclist(t.winner)},className:"stretched-link"},t.winner)))}))}},{key:"render",value:function(){return this.props.classique?m.a.createElement("div",{className:"race-history"},m.a.createElement("h6",null,"Race History"),m.a.createElement("div",{className:"border border-dark table-responsive"},m.a.createElement("table",{className:"table table-dark table-sm table-striped table-hover"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",{scope:"column"},"Year"),m.a.createElement("th",{scope:"column"},"Nat"),m.a.createElement("th",{scope:"column"},"Name"))),m.a.createElement("tbody",null,m.a.createElement(this.renderTable,null))))):null}}]),t}(m.a.Component),D=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).handleCyclist=a.handleCyclist.bind(Object(s.a)(a)),a.renderTable=a.renderTable.bind(Object(s.a)(a)),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"handleCyclist",value:function(e){this.props.handlerRightUI("cyclist",e)}},{key:"renderTable",value:function(){var e=this,t=this.props.classique.history.reduce((function(e,t){var a=e.find((function(e){return e.name===t.winner}));return a?a.count+=1:e.push({name:t.winner,count:1,flag:t.flag}),e}),[]);return t.sort((function(e,t){return t.count-e.count})),t.map((function(t,a){return m.a.createElement("tr",{key:a},m.a.createElement("td",{className:"winsColumn"},t.count),m.a.createElement("td",null,m.a.createElement(U.a,{countryCode:t.flag})),m.a.createElement("td",null,m.a.createElement("a",{href:"#",onClick:function(){return e.handleCyclist(t.name)},className:"stretched-link"},t.name)))}))}},{key:"render",value:function(){return this.props.classique?m.a.createElement("div",{className:"race-winners"},m.a.createElement("h6",null,"Best Monument Winners"),m.a.createElement("div",{className:"border border-dark table-responsive"},m.a.createElement("table",{className:"table table-dark table-sm table-striped table-hover"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",{scope:"column"},"Wins"),m.a.createElement("th",{scope:"column"},"Nat"),m.a.createElement("th",{scope:"column"},"Name"))),m.a.createElement("tbody",null,m.a.createElement(this.renderTable,null))))):null}}]),t}(m.a.Component),J=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).handleRace=a.handleRace.bind(Object(s.a)(a)),a.goToRace=a.goToRace.bind(Object(s.a)(a)),a.races=["Milano-Sanremo","Ronde van Vlaanderen","Paris-Roubaix","Li\xe8ge-Bastogne-Li\xe8ge","Giro di Lombardia"],a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"handleRace",value:function(e){this.props.handlerRightUI("race",e)}},{key:"goToRace",value:function(e){var t=this.races.indexOf(this.props.classique.raceName),a=this.races.length;return"next"===e?this.handleRace(this.races[(t+1)%a]):"previous"===e?this.handleRace(this.races[(t+a-1)%a]):void 0}},{key:"render",value:function(){var e=this;return this.props.classique?m.a.createElement("div",{className:"race-head border border-dark"},m.a.createElement("ul",{className:"race-selector"},m.a.createElement("li",{className:"flex-races"},m.a.createElement("a",{className:"race-left",href:"#",onClick:function(){return e.goToRace("previous")}},m.a.createElement("span",{className:"icon fontawesome-angle-left scnd-font-color"}))),m.a.createElement("li",{className:"flex-races"},m.a.createElement("h3",{className:"race-title"},this.props.classique.raceName)),m.a.createElement("li",{className:"flex-races"},m.a.createElement("a",{className:"race-right",href:"#",onClick:function(){return e.goToRace("next")}},m.a.createElement("span",{className:"icon fontawesome-angle-right scnd-font-color"}))))):null}}]),t}(m.a.Component),H=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).renderProfile=a.renderProfile.bind(Object(s.a)(a)),a.state={classique:null},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"renderProfile",value:function(){var e={elevation:null,distance:null};if(this.state.classique){var t=this.state.classique.geojsonData.features[2].geometry.coordinates.filter((function(e,t,a){return t%30===0}));e.elevation=t.map((function(e){return e[2]})),e.distance=G.length(this.state.classique.geojsonData.features[2])}return m.a.createElement(Q,{chart:e,classique:this.state.classique})}},{key:"componentDidMount",value:function(){var e=this;this.setState({classique:this.props.classiques.find((function(t){return t.raceName===e.props.focusOn}))})}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.focusOn!==e.focusOn&&this.setState({classique:this.props.classiques.find((function(e){return e.raceName===t.props.focusOn}))})}},{key:"render",value:function(){return m.a.createElement("div",{className:"main-grid race-grid"},m.a.createElement(J,Object.assign({},this.props,{classique:this.state.classique})),m.a.createElement(D,Object.assign({},this.props,{classique:this.state.classique})),m.a.createElement(M,Object.assign({},this.props,{classique:this.state.classique})),m.a.createElement(this.renderProfile,null))}}]),t}(m.a.Component),X=a(379),W=a(376),$=a(109),_=a(189),ee=a.n(_);a(360),a(361);function te(){var e=Object(n.a)(["margin: auto;"]);return te=function(){return e},e}var ae=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).renderRightUI=a.renderRightUI.bind(Object(s.a)(a)),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"renderRightUI",value:function(){return this.props.fullScreen?null:m.a.createElement("div",null,m.a.createElement(X.a,{direction:"right",in:"home"===this.props.rightUI,mountOnEnter:!0,unmountOnExit:!0},m.a.createElement(L,this.props)),m.a.createElement(X.a,{direction:"left",in:"race"===this.props.rightUI,mountOnEnter:!0,unmountOnExit:!0},m.a.createElement(H,this.props)),m.a.createElement(X.a,{direction:"left",in:"cyclist"===this.props.rightUI,mountOnEnter:!0,unmountOnExit:!0},m.a.createElement(z,this.props)))}},{key:"render",value:function(){return m.a.createElement(this.renderRightUI,null)}}]),t}(m.a.Component),ne=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).handlerRightUI=a.handlerRightUI.bind(Object(s.a)(a)),a.toggleFullScreen=a.toggleFullScreen.bind(Object(s.a)(a)),a.renderFullScreen=a.renderFullScreen.bind(Object(s.a)(a)),a.renderAbout=a.renderAbout.bind(Object(s.a)(a)),a.state={loading:!0,classiques:[],cyclists:[],rightUI:"home",focusOn:"Philippe Gilbert",fullScreen:!1,about:!1},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"handlerRightUI",value:function(e,t){this.setState({rightUI:e,focusOn:t})}},{key:"toggleFullScreen",value:function(){!1===this.state.fullScreen?this.setState({fullScreen:!0}):this.setState({fullScreen:!1})}},{key:"componentDidMount",value:function(){var e=this;f.getClassiquesAndCyclists().then((function(t){e.setState({classiques:t.data.classiques,cyclists:t.data.cyclists,loading:!1})}))}},{key:"renderFullScreen",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement(X.a,{direction:"left",in:"cyclist"===this.state.rightUI||"race"===this.state.rightUI,mountOnEnter:!0,unmountOnExit:!0},m.a.createElement("div",{className:"full-screen-container border border-dark rounded-circle"},m.a.createElement("a",{href:"#",onClick:function(){return e.toggleFullScreen()}},m.a.createElement("span",{className:"icon fontawesome-fullscreen"})))))}},{key:"renderAbout",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement("div",{className:"about-container"},m.a.createElement("a",{href:"#",onClick:function(){return e.setState((function(e){return{about:!e.about}}))}},m.a.createElement("span",{className:"icon fontawesome-question-sign"})," about")),m.a.createElement("div",{className:"about-popup-container"},m.a.createElement(W.a,{in:this.state.about,mountOnEnter:!0,unmountOnExit:!0},m.a.createElement("div",{className:"about-popup-content border border-dark rounded"},m.a.createElement("button",{type:"button",class:"close","aria-label":"Close",onClick:function(){return e.setState((function(e){return{about:!e.about}}))}},m.a.createElement("span",{"aria-hidden":"true"},"\xd7")),m.a.createElement("p",null,"Gilbert Odyssey is an interactive summary of the 5 cycling Monuments wins/winners.",m.a.createElement("br",null),m.a.createElement("br",null),"Named after Philippe Gilbert, whose dedication for winning all Monuments is outstanding.",m.a.createElement("br",null),"One last Monument win with Milan-Sanremo would make him join the elite club of Rik Van Looy, Eddy Merckx and Roger de Vlaeminck.",m.a.createElement("br",null),m.a.createElement("br",null),"See more on ",m.a.createElement("a",{href:"https://github.com/florianmainguy/gilbert-odyssey"},"github"),".",m.a.createElement("br",null),m.a.createElement("br",null),"Made by Florian Mainguy.")))))}},{key:"render",value:function(){var e={handlerRightUI:this.handlerRightUI,classiques:this.state.classiques,cyclists:this.state.cyclists,rightUI:this.state.rightUI,focusOn:this.state.focusOn,fullScreen:this.state.fullScreen};return!0===this.state.loading?m.a.createElement("div",{className:"home-loading"},m.a.createElement(ee.a,{css:Object($.css)(te()),size:10,color:"#e3d21c",loading:this.state.loading})):m.a.createElement("div",null,m.a.createElement(C,e),m.a.createElement(ae,e),m.a.createElement(this.renderFullScreen,null),m.a.createElement(this.renderAbout,null))}}]),t}(m.a.Component);h.a.render(m.a.createElement(ne,null),document.getElementById("app"))}},[[200,1,2]]]);
//# sourceMappingURL=main.82e3cead.chunk.js.map